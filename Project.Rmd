---
title: 'Statistical Learning Project'
author: 'Ammar Hasan'
date: '11 November 2018'
toc: true
fig_caption: yes

header-includes:
- \usepackage{pdflscape}
- \newcommand{\blandscape}{\begin{landscape}}
- \newcommand{\elandscape}{\end{landscape}}

output: bookdown::pdf_document2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = T, results = 'markup', message = F)

# Load nclSLR package
library(nclSLR)
library(knitr)

# Load the data
data(Boston, package='nclSLR')

# Table function (uses kable)
table = function(dataset, cap, dp = 3){
  kable(format(round(dataset, dp), nsmall = dp), caption = cap)
}

```


\newpage
# Introduction 

This report summaries the steps undertaken to produce a linear regression model of the value of housing in Boston Standard Metropolitan to predict the value of logarithmic crime rate (lcrim) using other variables. The model would be built after exploratory and unsuperivsed statistical analysis of the data (all using R functions), which would be carried first to gain an understanding on the data characteristics and structure before hand. 

Any output (tables and plots) is placed in the Appendix at the end of the report with the code that generated it, the description and analysis of the methods and their output is found in the document body which cross references it.

\newpage

# Exploratory Data Analysis

Before building a linear model, it is wise to first understand the overall structure of the data itself to get a feeling for the data characteristics. 

## Data Spread and Location 

To analyse the distribution of the data, the quantiles and means will be examined. In particular, this part of the report will examine outliers, scale, consistency and certainity. 

### Mean Vector

Using the col means functions a vector of mean averages can be produced for all the predictors and the response variables in the Boston dataset. 

The returned table (transposed) is in table \@ref(tab:mean-vector) in the Appendix, and shows how the means are well spread out from one another, which suggests a difference in the nature of the measurements.

Examining the structure of the variables in the Boston data set using the ?Boston confirms that (i.e.)

### Box Plot and Quantiles

The returned plot in \@ref(fig:box-plot).

## Data Relationships 

### Pairs Plot

### Correlation and Variance Matricies

\newpage

# Unsupervised Learning

## Principle Component Analysis

## Cluster Analysis

\newpage

# Supervised Learning (Linear Model)

\newpage

# Appendix 

This section contains all supplementary material and is divided into three sections (Tables, Plots and Abbrevations). The code required to generate the supplementary material is also included

## A.1 Abbrevations

\newpage

## A.2 Tables 

### Code to Generate Table \@ref(tab:mean-vector) (Transposed and Correct to 3DP)
```{r mean-vector}
table(colMeans(Boston), '')
```

\blandscape

### Code to Generate Table \@ref(tab:cor-matrix) (Correct to 3DP)
```{r cor-matrix}
table(var(Boston), 'Correlation Matrix (3DP)')
```

\newpage

### Code to Generate Table \@ref(tab:pca-summary) (Correct to 3DP)
```{r pca-summary}
# Perform PCA based on the standardised data (means and data nature vary)
pca = prcomp(Boston, scale=TRUE)
table(summary(pca)$importance, 'PCA Summary (Contribution to Variation)')
```

### Code to Generate Table \@ref(tab:pca-comps) (Correct to 3DP)
```{r pca-comps}
# List PC 1, 2 and 3 
table(pca$rotation[,1:3], 'PCA Components')
```

\elandscape

\newpage

## A.3 Plots

### Code to Generate Figure \@ref(fig:box-plot)
```{r box-plot, fig.cap='Box Plot'}
boxplot(Boston, cex.axis=0.6)
```

\blandscape

\newpage

### Code to Generate Figure \@ref(fig:pairs-plot)
```{r pairs-plot, fig.cap='Pairs Plot'}
pairs(Boston, cex=0.0005)
```

\elandscape

\newpage

### Code to Generate Figure \@ref(fig:scree-plot)
```{r scree-plot, fig.cap='Scree Plot'}
plot(pca, type='l', main='Scree Plot for Boston Housing Values')
title(xlab='Principle Component number')
```

### Code to Generate Figure \@ref(fig:pca-plot)
```{r pca-plot, fig.cap='PCA Plot'}
# Plot PCA 1 against PCA 2
plot(pca$x[,1], pca$x[,2], main ="Principle Component 1 vs 2 for Boston Housing Values",
     xlab="Component 1", ylab="Component 2")
```